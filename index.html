<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Katalog Undangan Digital - Malik Faza Studio</title>
    <meta name="description" content="Koleksi undangan digital premium untuk Pernikahan, Khitanan, dan Aqiqah.">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Plus+Jakarta+Sans:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;1,400&display=swap" rel="stylesheet">
    
    <!-- FontAwesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- AOS Animation -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- SweetAlert2 -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <!-- SUPABASE SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        midnight: '#020617', 
                        darkblue: '#0f172a',
                        cyan: { 400: '#22d3ee', 500: '#06b6d4', 600: '#0891b2' },
                        sky: { 400: '#38bdf8', 500: '#0ea5e9' }
                    },
                    fontFamily: {
                        heading: ['"Cinzel"', 'serif'],
                        body: ['"Plus Jakarta Sans"', 'sans-serif'],
                        serif: ['"Playfair Display"', 'serif'],
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulse-glow 3s infinite',
                        'twinkle': 'twinkle 4s ease-in-out infinite',
                        'spin-slow': 'spin 12s linear infinite',
                        'spin-music': 'spin 3s linear infinite',
                        'bounce-slow': 'bounce 3s infinite',
                        'scroll-loop': 'scroll-loop 40s linear infinite',
                        'scroll-loop-fast': 'scroll-loop 20s linear infinite',
                    },
                    keyframes: {
                        float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-20px)' } },
                        'pulse-glow': { '0%, 100%': { opacity: 1, filter: 'brightness(100%)' }, '50%': { opacity: 0.7, filter: 'brightness(120%)' } },
                        twinkle: { '0%, 100%': { opacity: 0.3, transform: 'scale(0.8)' }, '50%': { opacity: 1, transform: 'scale(1.2)' } },
                        'scroll-loop': { '0%': { transform: 'translateX(0)' }, '100%': { transform: 'translateX(-50%)' } }
                    }
                }
            }
        }
    </script>

    <style>
        body { 
            margin: 0; 
            overflow-x: hidden;
            transition: background 0.5s ease, color 0.5s ease;
            padding-top: 5rem; 
        }

        /* --- BACKGROUND STYLING --- */
        body {
            background: linear-gradient(180deg, #f8fafc 0%, #e2e8f0 100%);
            color: #1e293b;
        }
        
        .dark body {
            background: #020617;
            color: #e2e8f0;
        }
        
        #canvas-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; transition: opacity 0.5s ease; }

        .star { position: absolute; background: white; border-radius: 50%; animation: twinkle var(--duration) ease-in-out infinite; opacity: var(--opacity); }
        html:not(.dark) .star { background: #38bdf8; } 

        .music-rotating i { animation: spin-music 4s linear infinite; }
        @keyframes spin-music { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        ::-webkit-scrollbar { width: 4px; height: 4px; }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #94a3b8; border-radius: 10px; }
        .dark ::-webkit-scrollbar-track { background: #020617; }
        .dark ::-webkit-scrollbar-thumb { background: #1e293b; }

        /* Card Styling */
        .card-hover { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .card-hover:hover { transform: translateY(-8px); }
        
        .dark .card-hover:hover { 
            box-shadow: 0 15px 30px -5px rgba(34, 211, 238, 0.15); 
            border-color: rgba(34, 211, 238, 0.5); 
        }
        
        html:not(.dark) .card-hover {
            background: #ffffff;
            border: 1px solid #e2e8f0;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
        }
        html:not(.dark) .card-hover:hover {
            border-color: #0ea5e9; 
            box-shadow: 0 20px 25px -5px rgba(14, 165, 233, 0.15);
        }

        .text-cyan-glow {
            background: linear-gradient(to right, #22d3ee, #38bdf8, #22d3ee);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-size: 200% auto;
            animation: shine 4s linear infinite;
        }
        html:not(.dark) .text-cyan-glow {
            background: linear-gradient(to right, #0284c7, #0ea5e9, #0284c7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @keyframes shine { 0% { background-position: 0% center; } 100% { background-position: 200% center; } }
        
        select { -webkit-appearance: none; -moz-appearance: none; appearance: none; background-repeat: no-repeat; background-position: right 1rem center; background-size: 1em; }
        .dark select { background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%2322d3ee' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); }
        html:not(.dark) select { background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%230284c7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e"); }

        .modal { transition: opacity 0.3s ease, visibility 0.3s ease; }
        .modal.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
        .modal:not(.hidden) { opacity: 1; visibility: visible; pointer-events: auto; }
        
        details > summary { list-style: none; }
        details > summary::-webkit-details-marker { display: none; }
        details[open] summary ~ * { animation: sweep .3s ease-in-out; }
        @keyframes sweep { 0% {opacity: 0; margin-top: -10px} 100% {opacity: 1; margin-top: 0px} }

        #welcome-popup { transition: all 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); }
        
        /* Smooth Transition for Grid */
        #catalog-grid { transition: opacity 0.3s ease-in-out; }
        .grid-fading { opacity: 0.5; }
    </style>
</head>
<body class="antialiased selection:bg-cyan-500 selection:text-white transition-colors duration-500">

    <!-- AUDIO ELEMENT -->
    <audio id="bg-audio" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
    </audio>

    <!-- Admin Floating Tools -->
    <div id="admin-tools" class="hidden">
        <!-- Main Actions -->
        <button onclick="openFormModal()" class="fixed bottom-24 right-6 z-[60] w-12 h-12 bg-green-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-green-600 transition-all animate-bounce border-2 border-white dark:border-transparent" title="Tambah Desain"><i class="fas fa-plus"></i></button>
        <button onclick="openFaqModal()" class="fixed bottom-40 right-6 z-[60] w-12 h-12 bg-sky-500 text-white rounded-full flex items-center justify-center shadow-lg hover:bg-sky-600 transition-all border-2 border-white dark:border-transparent" title="Tambah FAQ"><i class="fas fa-question"></i></button>
        
        <!-- Data Management -->
        <button onclick="exportDataToJson()" class="fixed top-24 right-6 z-[60] px-4 py-2 bg-purple-600 text-white rounded-full text-xs hover:bg-purple-700 shadow-lg font-bold border border-white/20"><i class="fas fa-download mr-2"></i> Export JSON</button>
        
        <!-- NEW IMPORT BUTTON & INPUT -->
        <input type="file" id="import-file-input" accept=".json" class="hidden" onchange="importDataFromJson(this)">
        <button onclick="document.getElementById('import-file-input').click()" class="fixed top-36 right-6 z-[60] px-4 py-2 bg-indigo-600 text-white rounded-full text-xs hover:bg-indigo-700 shadow-lg font-bold border border-white/20"><i class="fas fa-file-import mr-2"></i> Import JSON</button>

        <button id="restore-data-btn" onclick="uploadInitialData()" class="fixed top-48 right-6 z-[60] px-4 py-2 bg-yellow-500 text-white rounded-full text-xs hover:bg-yellow-600 shadow-lg hidden font-bold"><i class="fas fa-cloud-upload-alt mr-2"></i> Upload Default</button>
        <button id="reset-data-btn" onclick="resetDatabase()" class="fixed top-60 right-6 z-[60] px-4 py-2 bg-red-500 text-white rounded-full text-xs hover:bg-red-600 shadow-lg hidden font-bold"><i class="fas fa-bomb mr-2"></i> Hapus Semua</button>
    </div>

    <canvas id="canvas-bg"></canvas>

    <!-- Navbar -->
    <nav class="fixed top-0 w-full z-50 transition-all duration-300 bg-white/95 dark:bg-[#020617]/90 backdrop-blur-md border-b border-slate-200 dark:border-white/5 shadow-sm" id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16 md:h-20">
                <div class="flex-shrink-0">
                    <a href="#" class="font-heading text-xl md:text-2xl font-bold tracking-widest text-slate-800 dark:text-white hover:text-sky-500 dark:hover:text-cyan-300 transition-colors">
                        MALIK<span class="text-cyan-glow">FAZA</span>
                    </a>
                </div>
                <div class="hidden md:flex items-center space-x-4 lg:space-x-6">
                    <a href="#home" class="hover:text-sky-600 dark:hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-bold transition-colors text-slate-600 dark:text-slate-200">Beranda</a>
                    <a href="#catalog" class="hover:text-sky-600 dark:hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-bold transition-colors text-slate-600 dark:text-slate-200">Katalog</a>
                    <a href="#features" class="hover:text-sky-600 dark:hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-bold transition-colors text-slate-600 dark:text-slate-200">Fitur</a>
                    <a href="#stats" class="hover:text-sky-600 dark:hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-bold transition-colors text-slate-600 dark:text-slate-200">Stats</a>
                    <a href="#testimonials" class="hover:text-sky-600 dark:hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-bold transition-colors text-slate-600 dark:text-slate-200">Testimoni</a>
                    <a href="#faq" class="hover:text-sky-600 dark:hover:text-cyan-400 px-3 py-2 rounded-md text-sm font-bold transition-colors text-slate-600 dark:text-slate-200">FAQ</a>
                    
                    <button id="music-btn-desktop" onclick="toggleMusic()" class="w-9 h-9 rounded-full bg-slate-100 dark:bg-white/10 border border-slate-200 dark:border-transparent flex items-center justify-center text-sky-500 dark:text-cyan-300 hover:scale-110 transition-transform shadow-sm group" title="Putar Musik">
                        <i class="fas fa-compact-disc text-lg group-hover:animate-spin"></i>
                    </button>

                    <button onclick="toggleTheme()" class="w-9 h-9 rounded-full bg-slate-100 dark:bg-white/10 border border-slate-200 dark:border-transparent flex items-center justify-center text-yellow-500 dark:text-cyan-300 hover:scale-110 transition-transform shadow-sm">
                        <i id="theme-icon" class="fas fa-moon"></i>
                    </button>

                    <a href="https://wa.me/6285161141114" target="_blank" class="px-5 py-2 bg-gradient-to-r from-sky-500 to-blue-600 dark:from-cyan-600 dark:to-sky-500 text-white font-bold rounded-full hover:shadow-lg hover:shadow-sky-500/30 transition-all transform hover:scale-105 text-xs tracking-wider">HUBUNGI KAMI</a>
                    
                    <button id="nav-auth-desktop" onclick="toggleAdminModal()" class="text-slate-600 dark:text-slate-400 hover:text-sky-600 dark:hover:text-white px-3 py-2 rounded-md text-sm font-bold transition-colors border border-slate-300 dark:border-white/10 hover:border-sky-400 dark:hover:border-cyan-400 ml-2 flex items-center">
                        <i class="fas fa-lock mr-2 text-xs"></i>
                    </button>
                </div>
                <div class="-mr-2 flex md:hidden items-center gap-3">
                    <button id="music-btn-mobile" onclick="toggleMusic()" class="w-9 h-9 rounded-full bg-slate-100 dark:bg-white/10 border border-slate-200 dark:border-transparent flex items-center justify-center text-sky-500 dark:text-cyan-300">
                        <i class="fas fa-compact-disc"></i>
                    </button>

                    <button onclick="toggleTheme()" class="w-9 h-9 rounded-full bg-slate-100 dark:bg-white/10 border border-slate-200 dark:border-transparent flex items-center justify-center text-yellow-500 dark:text-cyan-300">
                        <i id="theme-icon-mobile" class="fas fa-moon"></i>
                    </button>
                    <button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-slate-600 dark:text-cyan-400 hover:text-sky-500 dark:hover:text-white focus:outline-none" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        <div class="hidden md:hidden bg-white/95 dark:bg-[#020617]/95 backdrop-blur-xl border-t border-slate-200 dark:border-white/10" id="mobile-menu">
            <div class="px-4 pt-4 pb-6 space-y-2">
                <a href="#home" class="block px-3 py-2 rounded-lg text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-white/5">Beranda</a>
                <a href="#catalog" class="block px-3 py-2 rounded-lg text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-white/5">Katalog</a>
                <a href="#features" class="block px-3 py-2 rounded-lg text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-white/5">Fitur</a>
                <a href="#stats" class="block px-3 py-2 rounded-lg text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-white/5">Stats</a>
                <a href="#testimonials" class="block px-3 py-2 rounded-lg text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-white/5">Testimoni</a>
                <a href="#faq" class="block px-3 py-2 rounded-lg text-sm font-bold text-slate-700 dark:text-white hover:bg-slate-100 dark:hover:bg-white/5">FAQ</a>
                <a href="https://wa.me/6285161141114" class="block px-3 py-2 rounded-lg text-sm font-medium text-sky-600 dark:text-cyan-400 hover:bg-slate-100 dark:hover:bg-white/5">Kontak</a>
                <button id="nav-auth-mobile" onclick="toggleAdminModal()" class="block w-full text-left px-3 py-2 rounded-lg text-sm font-medium text-slate-500 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-white/5 border-t border-slate-200 dark:border-white/10 mt-2 pt-3">
                    <i class="fas fa-lock mr-2 text-xs"></i> Login Admin
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="relative min-h-[90vh] flex items-center justify-center overflow-hidden">
        <div class="absolute top-1/4 -left-20 w-64 h-64 bg-sky-200/60 dark:bg-cyan-500/10 rounded-full blur-[80px] animate-float"></div>
        <div class="absolute bottom-1/4 -right-20 w-80 h-80 bg-blue-200/60 dark:bg-sky-600/10 rounded-full blur-[100px] animate-float" style="animation-delay: 2s"></div>
        
        <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center" data-aos="fade-up">
            <div class="inline-block mb-4 px-3 py-1 border border-sky-300 dark:border-cyan-500/30 rounded-full bg-white/40 dark:bg-cyan-500/5 backdrop-blur-sm">
                <span class="text-sky-700 dark:text-cyan-300 text-[10px] md:text-xs font-bold tracking-[0.2em] uppercase">Malik Faza Studio</span>
            </div>
            <h1 class="text-4xl md:text-7xl font-heading font-bold mb-4 md:mb-6 leading-tight tracking-wide text-slate-900 dark:text-white">
                UNDANGAN <br> <span class="text-cyan-glow">DIGITAL</span>
            </h1>
            <p class="mt-2 max-w-lg mx-auto text-sm md:text-lg text-slate-600 dark:text-slate-300 font-light mb-8 leading-relaxed px-4">
                Solusi undangan digital masa kini. Hemat, praktis, & estetik dengan nuansa modern yang elegan.
            </p>
            <div class="flex flex-col sm:flex-row gap-3 justify-center px-6">
                <a href="#catalog" onclick="ensureMusicPlaying()" class="px-6 py-3 bg-gradient-to-r from-sky-500 to-blue-600 dark:from-cyan-600 dark:to-sky-500 text-white text-sm font-bold rounded-full shadow-lg shadow-sky-500/30 dark:shadow-cyan-500/20 hover:shadow-sky-500/50 dark:hover:shadow-cyan-500/40 transition-all hover:-translate-y-1">Lihat Katalog</a>
                <a href="https://wa.me/6285161141114" target="_blank" class="px-6 py-3 border border-sky-300 dark:border-white/10 text-sky-700 dark:text-cyan-300 bg-white/40 dark:bg-white/5 backdrop-blur-sm text-sm font-bold rounded-full hover:bg-white/60 dark:hover:border-cyan-400 transition-all">Konsultasi</a>
            </div>
        </div>
    </section>

    <!-- Catalog Section -->
    <section id="catalog" class="py-16 md:py-24 relative z-10">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-10" data-aos="fade-up">
                <h2 class="text-2xl md:text-4xl font-heading font-bold mb-3 text-slate-800 dark:text-white">Koleksi Desain</h2>
                <div class="w-16 h-1 bg-gradient-to-r from-sky-400 to-blue-500 dark:from-cyan-400 dark:to-sky-500 mx-auto rounded-full mb-4"></div>
                <p class="text-slate-600 dark:text-slate-400 text-xs md:text-base max-w-xl mx-auto">Temukan tema impian Anda di sini.</p>
                <div id="admin-badge" class="hidden mt-4 flex justify-center items-center gap-2">
                    <span class="px-3 py-1 bg-green-100 dark:bg-green-500/20 text-green-700 dark:text-green-400 border border-green-300 dark:border-green-500/50 rounded-full text-xs font-bold uppercase tracking-wider">
                        <i class="fas fa-user-shield mr-1"></i> Mode Admin Aktif
                    </span>
                </div>
            </div>

            <div class="max-w-[200px] mx-auto mb-8 relative z-20" data-aos="fade-up" data-aos-delay="100">
                <div class="relative">
                    <select id="category-filter" onchange="filterCatalog()" class="block w-full pl-4 pr-10 py-2.5 text-sm border-2 border-sky-100 dark:border-white/10 rounded-2xl bg-white dark:bg-[#0f172a]/80 text-slate-700 dark:text-white focus:outline-none focus:border-sky-500 dark:focus:border-cyan-500 transition-all cursor-pointer shadow-lg backdrop-blur-sm text-center appearance-none hover:border-sky-400 dark:hover:border-cyan-500/50 font-bold">
                        <option value="all">Semua Kategori</option>
                        <option value="pernikahan">üíç Pernikahan</option>
                        <option value="khitanan">‚úÇÔ∏è Khitanan</option>
                        <option value="aqiqah">üë∂ Aqiqah</option>
                    </select>
                </div>
            </div>

            <!-- GRID 4 KOLOM (md:grid-cols-4) -->
            <div id="catalog-grid" class="grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 min-h-[400px]">
                <!-- DEFAULT LOADING STATE -->
                <div class="col-span-full text-center py-20 text-slate-500 dark:text-slate-400 flex flex-col items-center justify-center">
                    <div class="w-8 h-8 border-4 border-sky-500 border-t-transparent rounded-full animate-spin mb-3"></div>
                    <span class="animate-pulse text-sm font-medium">Memuat Katalog...</span>
                </div>
            </div>

            <div id="empty-state" class="hidden py-8 text-center">
                <div class="text-4xl mb-2 text-slate-300">üîç</div>
                <p class="text-slate-400 text-sm">Kategori belum tersedia.</p>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-16 bg-slate-50 dark:bg-[#0b1221] border-t border-slate-200 dark:border-white/5 relative z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16" data-aos="fade-up">
                <h2 class="text-3xl font-heading font-bold mb-4 text-slate-800 dark:text-white">Mengapa Memilih Kami?</h2>
                <div class="w-24 h-1 bg-sky-400 dark:bg-cyan-400 mx-auto rounded-full"></div>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="p-8 rounded-2xl bg-white dark:bg-[#1e293b]/50 border border-slate-200 dark:border-white/5 text-center hover:-translate-y-1 transition-transform shadow-md hover:shadow-xl duration-300" data-aos="fade-up">
                    <div class="w-16 h-16 bg-sky-100 dark:bg-cyan-400/10 text-sky-500 dark:text-cyan-400 rounded-full flex items-center justify-center mx-auto mb-6 text-2xl"><i class="fas fa-gem"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-3">Desain Premium</h3>
                    <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed">Pilihan desain eksklusif dengan estetika modern yang memukau tamu undangan Anda.</p>
                </div>
                <div class="p-8 rounded-2xl bg-white dark:bg-[#1e293b]/50 border border-slate-200 dark:border-white/5 text-center hover:-translate-y-1 transition-transform shadow-md hover:shadow-xl duration-300" data-aos="fade-up" data-aos-delay="100">
                    <div class="w-16 h-16 bg-sky-100 dark:bg-cyan-400/10 text-sky-500 dark:text-cyan-400 rounded-full flex items-center justify-center mx-auto mb-6 text-2xl"><i class="fas fa-bolt"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-3">Proses Cepat</h3>
                    <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed">Pengerjaan kilat tanpa mengurangi kualitas. Undangan siap disebar dalam hitungan jam.</p>
                </div>
                <div class="p-8 rounded-2xl bg-white dark:bg-[#1e293b]/50 border border-slate-200 dark:border-white/5 text-center hover:-translate-y-1 transition-transform shadow-md hover:shadow-xl duration-300" data-aos="fade-up" data-aos-delay="200">
                    <div class="w-16 h-16 bg-sky-100 dark:bg-cyan-400/10 text-sky-500 dark:text-cyan-400 rounded-full flex items-center justify-center mx-auto mb-6 text-2xl"><i class="fas fa-infinity"></i></div>
                    <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-3">Revisi Tanpa Batas</h3>
                    <p class="text-slate-600 dark:text-slate-300 text-sm leading-relaxed">Kami menjamin kepuasan Anda dengan layanan revisi data sepuasnya hingga hari H.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- NEW STATS SECTION -->
    <section id="stats" class="py-12 bg-white/50 dark:bg-[#0f172a]/50 relative z-10 border-t border-slate-200 dark:border-white/5 overflow-hidden">
        <div class="max-w-6xl mx-auto px-6">
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center" id="counters-container">
                <div class="stat-item" data-aos="fade-up">
                    <h3 class="text-3xl md:text-4xl font-heading font-bold text-sky-500 dark:text-cyan-400 mb-2"><span class="counter-value" data-target="1500">0</span>+</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider font-bold">Undangan Disebar</p>
                </div>
                <div class="stat-item" data-aos="fade-up" data-aos-delay="100">
                    <h3 class="text-3xl md:text-4xl font-heading font-bold text-sky-500 dark:text-cyan-400 mb-2"><span class="counter-value" data-target="50">0</span>+</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider font-bold">Desain Premium</p>
                </div>
                <div class="stat-item" data-aos="fade-up" data-aos-delay="200">
                    <h3 class="text-3xl md:text-4xl font-heading font-bold text-sky-500 dark:text-cyan-400 mb-2"><span class="counter-value" data-target="99">0</span>%</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider font-bold">Kepuasan Klien</p>
                </div>
                <div class="stat-item" data-aos="fade-up" data-aos-delay="300">
                    <h3 class="text-3xl md:text-4xl font-heading font-bold text-sky-500 dark:text-cyan-400 mb-2">24/7</h3>
                    <p class="text-xs text-slate-500 dark:text-slate-400 uppercase tracking-wider font-bold">Layanan Support</p>
                </div>
            </div>
        </div>
        <!-- Infinite Loop Text Bottom -->
        <div class="w-full overflow-hidden mt-12 opacity-50">
            <div class="animate-scroll-loop-fast flex gap-10 whitespace-nowrap text-sm font-bold text-slate-300 dark:text-slate-700 uppercase tracking-widest">
                <span>Terpercaya</span> <span>‚Ä¢</span> <span>Cepat</span> <span>‚Ä¢</span> <span>Elegan</span> <span>‚Ä¢</span> <span>Modern</span> <span>‚Ä¢</span>
                <span>Terpercaya</span> <span>‚Ä¢</span> <span>Cepat</span> <span>‚Ä¢</span> <span>Elegan</span> <span>‚Ä¢</span> <span>Modern</span> <span>‚Ä¢</span>
                <span>Terpercaya</span> <span>‚Ä¢</span> <span>Cepat</span> <span>‚Ä¢</span> <span>Elegan</span> <span>‚Ä¢</span> <span>Modern</span> <span>‚Ä¢</span>
                <span>Terpercaya</span> <span>‚Ä¢</span> <span>Cepat</span> <span>‚Ä¢</span> <span>Elegan</span> <span>‚Ä¢</span> <span>Modern</span> <span>‚Ä¢</span>
                <span>Terpercaya</span> <span>‚Ä¢</span> <span>Cepat</span> <span>‚Ä¢</span> <span>Elegan</span> <span>‚Ä¢</span> <span>Modern</span> <span>‚Ä¢</span>
                <span>Terpercaya</span> <span>‚Ä¢</span> <span>Cepat</span> <span>‚Ä¢</span> <span>Elegan</span> <span>‚Ä¢</span> <span>Modern</span> <span>‚Ä¢</span>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="py-16 relative z-10 overflow-hidden">
        <div class="max-w-7xl mx-auto px-6 mb-12 text-center" data-aos="fade-up">
            <h2 class="text-2xl font-heading font-bold mb-2 text-slate-800 dark:text-white">Kata Mereka</h2>
            <div class="w-10 h-0.5 bg-sky-500 dark:bg-cyan-500 mx-auto rounded-full"></div>
        </div>
        
        <div class="relative w-full flex overflow-x-hidden group">
            <div class="animate-scroll-loop flex gap-6 whitespace-nowrap py-4">
                <!-- Set 1 -->
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Hasilnya cantik banget, sesuai ekspektasi! Adminnya juga ramah banget."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-sky-100 dark:bg-sky-900 flex items-center justify-center text-sky-600 dark:text-sky-300 font-bold text-xs">SB</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Sarah & Budi</h4><p class="text-[10px] text-slate-500">Mempelai</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Proses cepet, revisi nggak ribet. Makasih Malik Faza Studio!"</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center text-purple-600 dark:text-purple-300 font-bold text-xs">R</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Rina</h4><p class="text-[10px] text-slate-500">Bandung</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Suka banget sama desain Blue Elegant-nya. Tamu-tamu pada muji undangan digitalnya."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center text-green-600 dark:text-green-300 font-bold text-xs">D</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Dinda</h4><p class="text-[10px] text-slate-500">Customer</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Harganya terjangkau tapi kualitas premium. Recommended banget pokoknya."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-orange-100 dark:bg-orange-900 flex items-center justify-center text-orange-600 dark:text-orange-300 font-bold text-xs">B</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Bayu</h4><p class="text-[10px] text-slate-500">Jakarta</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Awalnya ragu, eh ternyata hasilnya memuaskan. Fitur-fiturnya lengkap."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-pink-100 dark:bg-pink-900 flex items-center justify-center text-pink-600 dark:text-pink-300 font-bold text-xs">A</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Anisa</h4><p class="text-[10px] text-slate-500">Surabaya</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Praktis banget tinggal sebar link. Desainnya kekinian."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-600 dark:text-blue-300 font-bold text-xs">R</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Rizky</h4><p class="text-[10px] text-slate-500">Customer</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Pelayanan juara! Revisi dilayanin sampe bener-bener pas."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-rose-100 dark:bg-rose-900 flex items-center justify-center text-rose-600 dark:text-rose-300 font-bold text-xs">PD</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Putri & Dimas</h4><p class="text-[10px] text-slate-500">Mempelai</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Undangannya keren, loadingnya cepet pas dibuka."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-teal-100 dark:bg-teal-900 flex items-center justify-center text-teal-600 dark:text-teal-300 font-bold text-xs">F</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Fajar</h4><p class="text-[10px] text-slate-500">Yogyakarta</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Makasih kak, undangannya elegan banget. Pas sama tema nikahan kita."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center text-yellow-600 dark:text-yellow-300 font-bold text-xs">M</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Maya</h4><p class="text-[10px] text-slate-500">Malang</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Solusi terbaik buat yang mau nikah tapi gamau ribet cetak undangan fisik."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-300 font-bold text-xs">E</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Eko</h4><p class="text-[10px] text-slate-500">Customer</p></div>
                    </div>
                </div>

                <!-- Duplikasi Set 1 untuk Loop Mulus -->
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Hasilnya cantik banget, sesuai ekspektasi! Adminnya juga ramah banget."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-sky-100 dark:bg-sky-900 flex items-center justify-center text-sky-600 dark:text-sky-300 font-bold text-xs">SB</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Sarah & Budi</h4><p class="text-[10px] text-slate-500">Mempelai</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Proses cepet, revisi nggak ribet. Makasih Malik Faza Studio!"</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center text-purple-600 dark:text-purple-300 font-bold text-xs">R</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Rina</h4><p class="text-[10px] text-slate-500">Bandung</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Suka banget sama desain Blue Elegant-nya. Tamu-tamu pada muji undangan digitalnya."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-green-100 dark:bg-green-900 flex items-center justify-center text-green-600 dark:text-green-300 font-bold text-xs">D</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Dinda</h4><p class="text-[10px] text-slate-500">Customer</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Harganya terjangkau tapi kualitas premium. Recommended banget pokoknya."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-orange-100 dark:bg-orange-900 flex items-center justify-center text-orange-600 dark:text-orange-300 font-bold text-xs">B</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Bayu</h4><p class="text-[10px] text-slate-500">Jakarta</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Awalnya ragu, eh ternyata hasilnya memuaskan. Fitur-fiturnya lengkap."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-pink-100 dark:bg-pink-900 flex items-center justify-center text-pink-600 dark:text-pink-300 font-bold text-xs">A</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Anisa</h4><p class="text-[10px] text-slate-500">Surabaya</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Praktis banget tinggal sebar link. Desainnya kekinian."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center text-blue-600 dark:text-blue-300 font-bold text-xs">R</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Rizky</h4><p class="text-[10px] text-slate-500">Customer</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Pelayanan juara! Revisi dilayanin sampe bener-bener pas."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-rose-100 dark:bg-rose-900 flex items-center justify-center text-rose-600 dark:text-rose-300 font-bold text-xs">PD</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Putri & Dimas</h4><p class="text-[10px] text-slate-500">Mempelai</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Undangannya keren, loadingnya cepet pas dibuka."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-teal-100 dark:bg-teal-900 flex items-center justify-center text-teal-600 dark:text-teal-300 font-bold text-xs">F</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Fajar</h4><p class="text-[10px] text-slate-500">Yogyakarta</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Makasih kak, undangannya elegan banget. Pas sama tema nikahan kita."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-yellow-100 dark:bg-yellow-900 flex items-center justify-center text-yellow-600 dark:text-yellow-300 font-bold text-xs">M</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Maya</h4><p class="text-[10px] text-slate-500">Malang</p></div>
                    </div>
                </div>
                <div class="w-[300px] flex-shrink-0 p-6 rounded-2xl bg-white/60 dark:bg-white/5 backdrop-blur-md border border-slate-200 dark:border-white/10 shadow-lg">
                    <p class="text-slate-600 dark:text-slate-300 text-xs italic leading-relaxed mb-4 whitespace-normal">"Solusi terbaik buat yang mau nikah tapi gamau ribet cetak undangan fisik."</p>
                    <div class="flex items-center gap-3">
                        <div class="w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900 flex items-center justify-center text-indigo-600 dark:text-indigo-300 font-bold text-xs">E</div>
                        <div><h4 class="text-sm font-bold text-slate-800 dark:text-white">Eko</h4><p class="text-[10px] text-slate-500">Customer</p></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="py-16 relative z-10">
        <div class="max-w-3xl mx-auto px-6">
            <div class="text-center mb-8" data-aos="fade-up">
                <h2 class="text-2xl font-heading font-bold mb-2 text-slate-800 dark:text-white">FAQ</h2>
                <div class="w-10 h-0.5 bg-sky-500 dark:bg-cyan-500 mx-auto rounded-full"></div>
            </div>
            <div id="faq-list" class="space-y-3" data-aos="fade-up">
                <div class="text-center text-slate-500 text-sm">Memuat FAQ...</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact" class="bg-white dark:bg-[#020617] pt-12 pb-8 border-t border-slate-200 dark:border-white/5 relative z-10 transition-colors duration-500">
        <div class="max-w-6xl mx-auto px-6">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                <div>
                    <h3 class="font-heading text-xl font-bold text-slate-800 dark:text-white mb-2">MALIK<span class="text-cyan-glow">FAZA</span></h3>
                    <p class="text-xs text-slate-500 mb-6 max-w-xs">Solusi undangan digital masa kini.</p>
                </div>
                <div class="text-sm">
                     <h4 class="text-slate-800 dark:text-white font-bold mb-4 text-xs uppercase tracking-wider">Kontak</h4>
                     <ul class="space-y-3 text-slate-500 dark:text-slate-400 text-xs">
                        <li class="flex items-center gap-2"><i class="fas fa-map-marker-alt text-sky-500 dark:text-cyan-500"></i> <span>Majalengka, Jawa Barat</span></li>
                        <li class="flex items-center gap-2 group"><i class="fas fa-phone text-sky-500"></i> <a href="https://wa.me/6285161141114" target="_blank" class="hover:text-sky-600 dark:hover:text-cyan-400 transition-colors">+62 851-6114-1114</a></li>
                     </ul>
                </div>
            </div>
            <div class="border-t border-slate-100 dark:border-white/5 pt-6 text-center text-[10px] text-slate-400 dark:text-slate-600">
                &copy; 2025 Malik Faza Studio.
            </div>
        </div>
    </footer>

    <!-- Welcome Popup (Z-INDEX 999) -->
    <div id="welcome-popup" class="fixed bottom-6 right-6 z-[999] hidden opacity-0 translate-y-10">
        <!-- Expanded Content -->
        <div id="welcome-content" class="bg-white/70 dark:bg-[#0f172a]/70 backdrop-blur-lg border border-white/50 dark:border-white/10 p-5 rounded-2xl shadow-2xl max-w-[300px] relative transform transition-all duration-300 ring-1 ring-black/5">
            <!-- Controls -->
            <div class="absolute top-2 right-2 flex gap-2">
                <button onclick="minimizeWelcome()" class="text-slate-500 dark:text-slate-400 hover:text-sky-500 transition-colors" title="Minimize"><i class="fas fa-minus"></i></button>
                <!-- Tombol Close dihapus agar hanya bisa di-minimize -->
            </div>
            <!-- Body -->
            <div class="text-center pt-2">
                 <div class="w-12 h-12 bg-white/50 dark:bg-white/10 rounded-full flex items-center justify-center mx-auto mb-3 text-xl animate-bounce-slow shadow-sm border border-white/30">üëã</div>
                 <h3 class="font-heading font-bold text-slate-800 dark:text-white text-md mb-1 drop-shadow-sm">Selamat Datang!</h3>
                 <p class="text-[11px] text-slate-700 dark:text-slate-200 mb-3 leading-relaxed font-medium">Bingung pilih desain? Atau mau tanya harga spesial hari ini? Yuk chat admin!</p>
                 <a href="https://wa.me/6285161141114?text=Halo%20kak,%20saya%20tertarik%20dengan%20undangan%20digitalnya,%20boleh%20tanya-tanya?" target="_blank" class="block w-full py-2 bg-gradient-to-r from-green-500 to-emerald-600 text-white font-bold rounded-lg text-xs hover:shadow-lg hover:brightness-110 transition-all flex items-center justify-center gap-2 shadow-md">
                    <i class="fab fa-whatsapp text-lg"></i> Chat Admin (Japri)
                 </a>
            </div>
        </div>
        <!-- Minimized State (Hidden by default) -->
        <button id="welcome-minimized" onclick="maximizeWelcome()" class="hidden w-12 h-12 bg-sky-500 dark:bg-cyan-600 text-white rounded-full items-center justify-center shadow-lg hover:scale-110 hover:shadow-sky-500/50 transition-all animate-pulse border-2 border-white dark:border-transparent">
            <i class="fas fa-comment-dots text-xl"></i>
        </button>
    </div>

    <!-- Modals (Login, Form, FAQ) -->
    <div id="login-modal" class="modal hidden fixed inset-0 z-[200] flex items-center justify-center bg-black/50 dark:bg-black/80 backdrop-blur-sm">
        <div class="bg-white dark:bg-[#0f172a] p-8 rounded-2xl border border-slate-200 dark:border-white/10 w-full max-w-xs relative text-center shadow-2xl">
            <button onclick="toggleAdminModal()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white"><i class="fas fa-times"></i></button>
            <h3 class="text-xl font-bold text-slate-800 dark:text-white mb-6 font-heading">Admin Login</h3>
            <div class="relative w-full mb-4">
                <input type="password" id="admin-pass-input" placeholder="Masukkan Password" class="w-full px-4 py-2 pr-10 bg-slate-100 dark:bg-black/50 border border-slate-200 dark:border-white/10 rounded-lg text-slate-800 dark:text-white focus:outline-none focus:border-sky-500 dark:focus:border-cyan-500">
                <button type="button" onclick="togglePasswordVisibility()" class="absolute right-3 top-2.5 text-slate-400 hover:text-slate-600 dark:hover:text-white focus:outline-none">
                    <i id="eye-icon" class="fas fa-eye"></i>
                </button>
            </div>
            <button onclick="checkAdminLogin()" class="w-full py-2 bg-gradient-to-r from-sky-500 to-blue-600 dark:from-cyan-600 dark:to-sky-500 text-white font-bold rounded-lg hover:shadow-lg transition-all">MASUK</button>
        </div>
    </div>

    <div id="form-modal" class="modal hidden fixed inset-0 z-[200] flex items-center justify-center bg-black/50 dark:bg-black/80 backdrop-blur-sm overflow-y-auto py-10">
        <div class="bg-white dark:bg-[#0f172a] p-8 rounded-2xl border border-slate-200 dark:border-white/10 w-full max-w-md relative shadow-2xl my-auto">
            <button onclick="closeFormModal()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white"><i class="fas fa-times"></i></button>
            <h3 id="form-title" class="text-xl font-bold text-slate-800 dark:text-white mb-6 font-heading">Tambah Desain</h3>
            <input type="hidden" id="item-id">
            <div class="space-y-4">
                <div>
                    <label class="text-xs text-slate-500 dark:text-slate-400 mb-1 block">Judul Tema</label>
                    <input type="text" id="item-title" class="w-full px-4 py-2 bg-slate-50 dark:bg-black/50 border border-slate-200 dark:border-white/10 rounded-lg text-slate-800 dark:text-white focus:border-sky-500 dark:focus:border-cyan-500 focus:outline-none">
                </div>
                <div>
                    <label class="text-xs text-slate-500 dark:text-slate-400 mb-1 block">Kategori</label>
                    <select id="item-category" class="w-full px-4 py-2 bg-slate-50 dark:bg-black/50 border border-slate-200 dark:border-white/10 rounded-lg text-slate-800 dark:text-white focus:border-sky-500 dark:focus:border-cyan-500 focus:outline-none">
                        <option value="pernikahan">Pernikahan</option>
                        <option value="khitanan">Khitanan</option>
                        <option value="aqiqah">Aqiqah</option>
                    </select>
                </div>
                <div>
                    <label class="text-xs text-slate-500 dark:text-slate-400 mb-1 block">Link Preview (URL)</label>
                    <input type="text" id="item-link" class="w-full px-4 py-2 bg-slate-50 dark:bg-black/50 border border-slate-200 dark:border-white/10 rounded-lg text-slate-800 dark:text-white focus:border-sky-500 dark:focus:border-cyan-500 focus:outline-none">
                </div>
                <div>
                    <label class="text-xs text-slate-500 dark:text-slate-400 mb-1 block">Tag (Opsional)</label>
                    <input type="text" id="item-tag" placeholder="Contoh: Premium, Best Seller" class="w-full px-4 py-2 bg-slate-50 dark:bg-black/50 border border-slate-200 dark:border-white/10 rounded-lg text-slate-800 dark:text-white focus:border-sky-500 dark:focus:border-cyan-500 focus:outline-none">
                </div>
                <div>
                    <label class="text-xs text-slate-500 dark:text-slate-400 mb-1 block">Foto Sampul</label>
                    <div id="upload-area" class="relative w-full h-48 bg-slate-50 dark:bg-black/50 border-2 border-dashed border-slate-300 dark:border-white/20 rounded-lg flex items-center justify-center overflow-hidden group cursor-pointer hover:border-sky-500 dark:hover:border-cyan-500 transition-colors" tabindex="0">
                        <input type="file" id="item-image-file" accept="image/png, image/jpeg, image/jpg" class="absolute inset-0 opacity-0 cursor-pointer z-10" onchange="previewImage(this)">
                        <img id="image-preview" class="w-full h-full object-cover hidden" />
                        <div id="upload-placeholder" class="text-center p-4">
                            <i class="fas fa-cloud-upload-alt text-2xl text-slate-400 dark:text-slate-500 mb-2"></i>
                            <p class="text-xs text-slate-500">Klik untuk upload foto <br> atau <span class="text-sky-500 dark:text-cyan-400 font-bold">Paste (Ctrl+V)</span> disini</p>
                        </div>
                    </div>
                </div>
                <button onclick="saveItem()" class="w-full py-3 bg-gradient-to-r from-sky-500 to-blue-600 dark:from-cyan-600 dark:to-sky-500 text-white font-bold rounded-lg hover:shadow-lg transition-all mt-4">SIMPAN DATA</button>
            </div>
        </div>
    </div>

    <div id="faq-modal" class="modal hidden fixed inset-0 z-[200] flex items-center justify-center bg-black/50 dark:bg-black/80 backdrop-blur-sm">
        <div class="bg-white dark:bg-[#0f172a] p-8 rounded-2xl border border-slate-200 dark:border-white/10 w-full max-w-md relative shadow-2xl">
            <button onclick="closeFaqModal()" class="absolute top-4 right-4 text-slate-400 hover:text-slate-800 dark:hover:text-white"><i class="fas fa-times"></i></button>
            <h3 id="faq-modal-title" class="text-xl font-bold text-slate-800 dark:text-white mb-6 font-heading">Tambah FAQ</h3>
            <input type="hidden" id="faq-id">
            <div class="space-y-4">
                <div>
                    <label class="text-xs text-slate-500 dark:text-slate-400 mb-1 block">Pertanyaan</label>
                    <input type="text" id="faq-question" class="w-full px-4 py-2 bg-slate-50 dark:bg-black/50 border border-slate-200 dark:border-white/10 rounded-lg text-slate-800 dark:text-white focus:border-sky-500 dark:focus:border-cyan-500 focus:outline-none">
                </div>
                <div>
                    <label class="text-xs text-slate-500 dark:text-slate-400 mb-1 block">Jawaban</label>
                    <textarea id="faq-answer" rows="3" class="w-full px-4 py-2 bg-slate-50 dark:bg-black/50 border border-slate-200 dark:border-white/10 rounded-lg text-slate-800 dark:text-white focus:border-sky-500 dark:focus:border-cyan-500 focus:outline-none"></textarea>
                </div>
                <button onclick="saveFaq()" class="w-full py-3 bg-gradient-to-r from-sky-500 to-blue-600 dark:from-cyan-600 dark:to-sky-500 text-white font-bold rounded-lg hover:shadow-lg transition-all">SIMPAN FAQ</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- MAIN LOGIC -->
    <script>
        AOS.init({ duration: 600, once: true, offset: 30 });

        // Global Variables
        window.catalogData = [];
        window.faqData = [];
        window.isAdmin = false;
        window.tempImageBase64 = "";
        const ADMIN_PASS = "malikfaza99";
        
        let supabaseClient; 
        let isSupabaseReady = false;

        // --- KONFIGURASI SUPABASE ---
        const supabaseUrl = 'https://izmfdtngpagwjlcdwklq.supabase.co'; 
        const supabaseKey = 'sb_publishable_2MRQf8CrSqASqSMrYw2nhA_0QfXx1wx'; // Public Key
        
        // Inisialisasi Supabase
        try {
            if (typeof window.supabase !== 'undefined') {
                supabaseClient = window.supabase.createClient(supabaseUrl, supabaseKey);
                isSupabaseReady = true;
                console.log("Supabase initialized");
            } else {
                console.warn("Supabase SDK not loaded.");
            }
        } catch(e) {
            console.error("Supabase Init Error:", e);
        }

        // Default Data (Backup)
        const initialData = [
            { id: 1, title: "Blue Elegant", category: "pernikahan", image: "https://placehold.co/400x700/0f172a/22d3ee?text=BE", link: "#", tag: "Premium" },
            { id: 2, title: "Sage Garden", category: "pernikahan", image: "https://placehold.co/400x700/0f172a/4ade80?text=SG", link: "#", tag: "Best Seller" },
            { id: 3, title: "Blue Islamic", category: "khitanan", image: "https://placehold.co/400x700/0f172a/60a5fa?text=BI", link: "#", tag: "" },
            { id: 4, title: "Pastel Baby", category: "aqiqah", image: "https://placehold.co/400x700/0f172a/f472b6?text=PB", link: "#", tag: "" },
            { id: 5, title: "Ethnic Royal", category: "pernikahan", image: "https://placehold.co/400x700/0f172a/facc15?text=ER", link: "#", tag: "" },
        ];
        
        const initialFaqData = [
            { id: 1, q: "Berapa lama prosesnya?", a: "Normalnya 1x24 jam. Kilat bisa 3-6 jam (ada biaya tambahan)." },
            { id: 2, q: "Bisa revisi data?", a: "Ya, revisi data (nama, tempat, waktu) gratis sepuasnya sampai hari H acara." }
        ];

        // --- FETCH DATA ---
        window.fetchData = async function() {
            // Tampilkan data awal (demo) langsung agar tidak blank
            if (window.catalogData.length === 0) {
                 window.catalogData = initialData;
                 window.renderCatalog();
            }
            if (window.faqData.length === 0) {
                 window.faqData = initialFaqData;
                 window.renderFaq();
            }

            if (!isSupabaseReady) return;

            try {
                // Fetch Catalogs
                let { data: catalogs, error: catError } = await supabaseClient
                    .from('catalogs')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (catError) throw catError;
                
                if (catalogs && catalogs.length > 0) {
                    const isDifferent = JSON.stringify(window.catalogData) !== JSON.stringify(catalogs);
                    if (isDifferent) {
                         window.catalogData = catalogs;
                         window.renderCatalog();
                    }
                }

                // Fetch FAQs
                let { data: faqs, error: faqError } = await supabaseClient
                    .from('faqs')
                    .select('*')
                    .order('created_at', { ascending: true });

                if (faqError) throw faqError;

                if (faqs && faqs.length > 0) {
                    const isDifferent = JSON.stringify(window.faqData) !== JSON.stringify(faqs);
                    if (isDifferent) {
                        window.faqData = faqs;
                        window.renderFaq();
                    }
                }

            } catch (error) {
                console.error("Error fetching data:", error);
            }
        };

        // --- IMPORT JSON DATA (DIPERBAIKI) ---
        window.importDataFromJson = function(input) {
            if (!isSupabaseReady) return Swal.fire('Error', 'Supabase belum dikonfigurasi', 'error');
            const file = input.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = async function(e) {
                try {
                    const json = JSON.parse(e.target.result);
                    
                    Swal.fire({
                        title: 'Importing...',
                        text: 'Memasukkan data ke database...',
                        allowOutsideClick: false,
                        didOpen: () => Swal.showLoading()
                    });

                    // 1. Import Catalogs
                    if (json.catalogs && Array.isArray(json.catalogs)) {
                        const cleanCatalogs = json.catalogs.map(item => {
                            // Ambil hanya kolom yang diperlukan untuk Supabase
                            // Abaikan ID lama dan timestamp lama agar Supabase generate baru
                            return {
                                title: item.title,
                                category: item.category,
                                image: item.image,
                                link: item.link,
                                tag: item.tag || '' // handle missing tag
                            };
                        });
                        
                        const { error: catError } = await supabaseClient.from('catalogs').insert(cleanCatalogs);
                        if (catError) throw catError;
                    }

                    // 2. Import FAQs
                    if (json.faqs && Array.isArray(json.faqs)) {
                         const cleanFaqs = json.faqs.map(item => {
                            return {
                                q: item.q,
                                a: item.a
                            };
                        });
                        const { error: faqError } = await supabaseClient.from('faqs').insert(cleanFaqs);
                        if (faqError) throw faqError;
                    }

                    Swal.fire('Sukses', 'Data JSON berhasil diimport!', 'success');
                    fetchData(); // Refresh tampilan

                } catch (err) {
                    console.error(err);
                    Swal.fire('Error', 'Gagal import JSON: ' + err.message, 'error');
                }
                // Reset input
                input.value = '';
            };
            reader.readAsText(file);
        };

        // --- EXPORT JSON DATA ---
        window.exportDataToJson = async function() {
            if (!isSupabaseReady) return Swal.fire('Error', 'Supabase belum siap', 'error');
            
            Swal.fire({ title: 'Mengambil data...', didOpen: () => Swal.showLoading() });
            
            try {
                // Fetch catalogs
                const { data: catalogs, error: catError } = await supabaseClient.from('catalogs').select('*');
                if (catError) throw catError;
                
                // Fetch faqs
                const { data: faqs, error: faqError } = await supabaseClient.from('faqs').select('*');
                if (faqError) throw faqError;
                
                // Create JSON
                const data = {
                    catalogs: catalogs || [],
                    faqs: faqs || [],
                    exportedAt: new Date().toISOString()
                };
                
                // Trigger download
                const blob = new Blob([JSON.stringify(data, null, 2)], { type: "application/json" });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `backup-katalog-${new Date().toISOString().slice(0,10)}.json`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                Swal.close();
            } catch (e) {
                console.error(e);
                Swal.fire('Error', 'Gagal export data: ' + e.message, 'error');
            }
        }

        // --- CRUD OPERATIONS ---
        window.saveItem = async function() {
            if (!isSupabaseReady) return Swal.fire('Error', 'Supabase belum dikonfigurasi', 'error');

            const id = document.getElementById('item-id').value;
            const title = document.getElementById('item-title').value;
            const category = document.getElementById('item-category').value;
            const link = document.getElementById('item-link').value;
            const tag = document.getElementById('item-tag').value;
            const image = window.tempImageBase64; 

            if (!title || !link) {
                Swal.fire({ icon: 'warning', text: 'Mohon lengkapi data wajib (Judul, Link)' });
                return;
            }

            Swal.showLoading();

            const payload = { title, category, link, tag, image };

            try {
                let error;
                if (id) {
                    const { error: err } = await supabaseClient.from('catalogs').update(payload).eq('id', id);
                    error = err;
                } else {
                    const { error: err } = await supabaseClient.from('catalogs').insert([payload]);
                    error = err;
                }

                if (error) throw error;

                closeFormModal();
                Swal.fire({ icon: 'success', title: 'Berhasil', showConfirmButton: false, timer: 1000 });
                fetchData(); 
            } catch (e) {
                console.error(e);
                Swal.fire('Error', 'Gagal menyimpan: ' + e.message, 'error');
            }
        };

        window.deleteItem = async function(id) {
            if (!isSupabaseReady) return;
            Swal.fire({
                title: 'Hapus desain ini?', icon: 'warning', showCancelButton: true, confirmButtonColor: '#d33', confirmButtonText: 'Ya, hapus!'
            }).then(async (result) => {
                if (result.isConfirmed) {
                    const { error } = await supabaseClient.from('catalogs').delete().eq('id', id);
                    if (error) {
                        Swal.fire('Error', 'Gagal menghapus.', 'error');
                    } else {
                        Swal.fire('Terhapus!', 'Desain telah dihapus.', 'success');
                        fetchData();
                    }
                }
            });
        };

        window.saveFaq = async function() {
            if (!isSupabaseReady) return;
            const id = document.getElementById('faq-id').value;
            const q = document.getElementById('faq-question').value;
            const a = document.getElementById('faq-answer').value;

            if (!q || !a) return Swal.fire({ icon: 'warning', text: 'Mohon isi semua field' });

            Swal.showLoading();
            const payload = { q, a };

            try {
                let error;
                if (id) {
                    const { error: err } = await supabaseClient.from('faqs').update(payload).eq('id', id);
                    error = err;
                } else {
                    const { error: err } = await supabaseClient.from('faqs').insert([payload]);
                    error = err;
                }
                if (error) throw error;
                closeFaqModal();
                Swal.fire({ icon: 'success', title: 'Berhasil', showConfirmButton: false, timer: 1000 });
                fetchData();
            } catch(e) {
                Swal.fire('Error', 'Gagal menyimpan.', 'error');
            }
        }

        window.deleteFaq = async function(id) {
            if (!isSupabaseReady) return;
            Swal.fire({
                title: 'Hapus FAQ?', icon: 'warning', showCancelButton: true, confirmButtonColor: '#d33', confirmButtonText: 'Hapus'
            }).then(async (result) => {
                if (result.isConfirmed) {
                    const { error } = await supabaseClient.from('faqs').delete().eq('id', id);
                    if (!error) {
                        Swal.fire('Terhapus!', '', 'success');
                        fetchData();
                    }
                }
            });
        }

        // --- UPLOAD INITIAL DATA ---
        window.uploadInitialData = async function() {
            if (!isSupabaseReady) return Swal.fire('Error', 'Supabase belum dikonfigurasi', 'error');
            
            Swal.fire({
                title: 'Upload Data Bawaan?',
                text: "Ini akan menambahkan item katalog bawaan ke Supabase.",
                icon: 'question',
                showCancelButton: true,
                confirmButtonText: 'Ya, Upload',
                cancelButtonText: 'Batal'
            }).then(async (result) => {
                if (result.isConfirmed) {
                    Swal.showLoading();
                    
                    const { error: catError } = await supabaseClient.from('catalogs').insert(initialData.map(({ id, ...rest }) => rest));
                    if(catError) {
                        console.error(catError);
                        return Swal.fire('Gagal', 'Gagal upload katalog: ' + catError.message, 'error');
                    }

                    const { error: faqError } = await supabaseClient.from('faqs').insert(initialFaqData.map(({ id, ...rest }) => rest));
                    if(faqError) {
                        console.error(faqError);
                        return Swal.fire('Gagal', 'Gagal upload FAQ: ' + faqError.message, 'error');
                    }

                    Swal.fire('Sukses', 'Data bawaan berhasil diupload ke database!', 'success');
                    fetchData(); 
                }
            });
        }

        window.resetDatabase = async function() {
            if (!isSupabaseReady) return;
            
            Swal.fire({
                title: 'Hapus SEMUA Data?',
                text: "PERINGATAN: Semua katalog dan FAQ di Supabase akan dihapus permanen!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#d33',
                confirmButtonText: 'Ya, Hapus Semua!',
                cancelButtonText: 'Batal'
            }).then(async (result) => {
                if (result.isConfirmed) {
                    Swal.showLoading();
                    
                    // Delete All Catalogs (trick: id is likely not null)
                    const { error: catError } = await supabaseClient.from('catalogs').delete().neq('title', 'THIS_STRING_DOES_NOT_EXIST_XYZ'); 
                    
                    const { error: faqError } = await supabaseClient.from('faqs').delete().neq('q', 'THIS_STRING_DOES_NOT_EXIST_XYZ');

                    if (catError || faqError) {
                        console.log("Bulk delete failed, trying manual loop...");
                    } 
                    
                    Swal.fire('Terhapus', 'Database telah dikosongkan (jika policy mengizinkan).', 'success');
                    fetchData();
                }
            });
        }

        // --- UI FUNCTIONS ---
        // THEME HANDLING
        function initTheme() {
            if (localStorage.getItem('theme') === 'light') {
                document.documentElement.classList.remove('dark');
                updateThemeIcon(true);
            } else {
                document.documentElement.classList.add('dark');
                updateThemeIcon(false);
            }
        }

        function toggleTheme() {
            const html = document.documentElement;
            if (html.classList.contains('dark')) {
                html.classList.remove('dark');
                localStorage.setItem('theme', 'light');
                updateThemeIcon(true);
            } else {
                html.classList.add('dark');
                localStorage.setItem('theme', 'dark');
                updateThemeIcon(false);
            }
            window.dispatchEvent(new Event('resize')); 
        }

        function updateThemeIcon(isLight) {
            const iconDesktop = document.getElementById('theme-icon');
            const iconMobile = document.getElementById('theme-icon-mobile');
            const newIcon = isLight ? 'fa-moon' : 'fa-sun';
            if(iconDesktop) iconDesktop.className = `fas ${newIcon}`;
            if(iconMobile) iconMobile.className = `fas ${newIcon}`;
        }

        // RENDER CATALOG
        window.renderCatalog = function() {
            const grid = document.getElementById('catalog-grid');
            const filter = document.getElementById('category-filter').value;
            grid.innerHTML = '';
            
            let hasItem = false;
            const dataToRender = window.catalogData || [];

            if (dataToRender.length === 0) {
                 grid.innerHTML = `<div class="col-span-full text-center py-20 text-slate-500">Belum ada data.</div>`;
                 return;
            }

            dataToRender.forEach(item => {
                if (filter !== 'all' && item.category !== filter) return;
                hasItem = true;

                const card = document.createElement('div');
                card.className = "catalog-item group relative rounded-2xl overflow-hidden transition-all duration-300 card-hover bg-white dark:bg-white/5 border border-slate-100 dark:border-white/5 cursor-pointer";
                card.setAttribute('data-aos', 'fade-up');
                
                // Tambahkan event onclick untuk memutar musik saat katalog diklik
                card.setAttribute('onclick', 'ensureMusicPlaying()');
                
                const tagHtml = item.tag ? `<div class="absolute top-2 left-2 z-20"><span class="px-2 py-0.5 bg-sky-500/90 dark:bg-cyan-600/90 backdrop-blur-sm text-white text-[9px] font-bold rounded-lg uppercase tracking-wider shadow-lg">${item.tag}</span></div>` : '';
                
                const idParam = typeof item.id === 'string' ? `'${item.id}'` : item.id;

                const adminControls = window.isAdmin ? `
                    <div class="absolute top-2 right-2 z-30 flex gap-2" onclick="event.stopPropagation()">
                        <button onclick="editItem(${idParam})" class="w-6 h-6 bg-yellow-500 rounded-full text-white text-[10px] flex items-center justify-center hover:bg-yellow-600 shadow-lg"><i class="fas fa-edit"></i></button>
                        <button onclick="deleteItem(${idParam})" class="w-6 h-6 bg-red-500 rounded-full text-white text-[10px] flex items-center justify-center hover:bg-red-600 shadow-lg"><i class="fas fa-trash"></i></button>
                    </div>
                ` : '';
                
                const waText = `Halo kak, saya mau pesan tema "${item.title}".\n\nLink Preview: ${item.link}`;
                const waUrl = `https://wa.me/6285161141114?text=${encodeURIComponent(waText)}`;

                card.innerHTML = `
                    <div class="aspect-[9/16] overflow-hidden relative">
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900/50 via-transparent to-transparent z-10 dark:from-[#020617] dark:via-transparent"></div>
                        <img src="${item.image}" onerror="this.src='https://placehold.co/400x700/0f172a/22d3ee?text=No+Image'" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700">
                        ${tagHtml}
                        ${adminControls}
                    </div>
                    <div class="p-3 bg-white/90 dark:bg-[#020617]/90 backdrop-blur-md">
                        <p class="text-sky-500 dark:text-cyan-400 text-[9px] font-bold uppercase mb-0.5">${item.category}</p>
                        <h3 class="text-sm font-serif font-bold text-slate-800 dark:text-white mb-2 line-clamp-1">${item.title}</h3>
                        <div class="flex gap-2 mt-2" onclick="event.stopPropagation()">
                            <a href="${item.link}" target="_blank" class="flex-1 py-2 text-center text-[10px] border border-slate-300 dark:border-white/20 rounded-xl text-slate-600 dark:text-white hover:bg-slate-100 dark:hover:bg-white hover:text-slate-800 dark:hover:text-black transition-colors">Preview</a>
                            <a href="${waUrl}" target="_blank" class="flex-1 py-2 text-center text-[10px] bg-gradient-to-r from-sky-500 to-blue-600 dark:from-cyan-600 dark:to-sky-500 text-white font-bold rounded-xl hover:brightness-110">Pesan</a>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
            document.getElementById('empty-state').classList.toggle('hidden', hasItem);
        }

        window.renderFaq = function() {
            const container = document.getElementById('faq-list');
            container.innerHTML = '';
            const dataToRender = window.faqData || [];
            
            if(dataToRender.length === 0) {
                container.innerHTML = `<div class="text-center text-slate-500 text-xs">Belum ada FAQ.</div>`;
                return;
            }

            dataToRender.forEach(item => {
                const details = document.createElement('details');
                details.className = "group bg-white dark:bg-[#0f172a]/60 border border-slate-200 dark:border-white/5 rounded-2xl open:bg-slate-50 dark:open:bg-[#0f172a]/80 transition-all duration-300 relative shadow-sm dark:shadow-none";
                const adminControls = window.isAdmin ? `
                    <div class="absolute right-12 top-4 flex gap-2 z-20">
                         <button onclick="editFaq('${item.id}')" class="text-yellow-500 hover:text-yellow-600 text-xs"><i class="fas fa-edit"></i></button>
                         <button onclick="deleteFaq('${item.id}')" class="text-red-500 hover:text-red-600 text-xs"><i class="fas fa-trash"></i></button>
                    </div>
                ` : '';
                details.innerHTML = `
                    <summary class="flex justify-between items-center p-4 cursor-pointer text-sm font-medium text-slate-700 dark:text-slate-200 hover:text-sky-500 dark:hover:text-cyan-300 pr-20">
                        <span>${item.q}</span>
                        <i class="fas fa-chevron-down text-xs transition group-open:rotate-180 text-sky-500 dark:text-cyan-400 absolute right-4"></i>
                    </summary>
                    ${adminControls}
                    <div class="px-4 pb-4 text-xs text-slate-500 dark:text-slate-400 leading-relaxed border-t border-slate-100 dark:border-white/5 pt-2">
                        ${item.a}
                    </div>
                `;
                container.appendChild(details);
            });
        }

        window.filterCatalog = function() { window.renderCatalog(); }

        window.toggleAdminModal = function() { document.getElementById('login-modal').classList.toggle('hidden'); }
        window.togglePasswordVisibility = function() {
            const input = document.getElementById('admin-pass-input');
            const icon = document.getElementById('eye-icon');
            if (input.type === 'password') { input.type = 'text'; icon.classList.remove('fa-eye'); icon.classList.add('fa-eye-slash'); }
            else { input.type = 'password'; icon.classList.remove('fa-eye-slash'); icon.classList.add('fa-eye'); }
        }
        document.getElementById('admin-pass-input').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') checkAdminLogin();
        });
        window.checkAdminLogin = function() {
            const pass = document.getElementById('admin-pass-input').value;
            if (pass === ADMIN_PASS) {
                window.isAdmin = true;
                window.updateAdminUI();
                toggleAdminModal();
                Swal.fire({ icon: 'success', title: 'Login Berhasil', text: 'Mode Admin Aktif', timer: 1500, showConfirmButton: false });
            } else {
                Swal.fire({ icon: 'error', title: 'Gagal', text: 'Password salah!' });
            }
        }
        window.adminLogout = function() {
            window.isAdmin = false;
            window.updateAdminUI();
            Swal.fire({ icon: 'success', title: 'Logout', text: 'Kembali ke mode pengunjung', timer: 1500, showConfirmButton: false });
        }
        window.updateAdminUI = function() {
            const navAuthDesktop = document.getElementById('nav-auth-desktop');
            const navAuthMobile = document.getElementById('nav-auth-mobile');
            const adminTools = document.getElementById('admin-tools');
            const restoreBtn = document.getElementById('restore-data-btn');
            const resetBtn = document.getElementById('reset-data-btn');

            if (window.isAdmin) {
                navAuthDesktop.innerHTML = '<i class="fas fa-sign-out-alt mr-2 text-xs"></i>';
                navAuthDesktop.setAttribute('onclick', 'adminLogout()');
                navAuthDesktop.classList.add('text-red-500', 'border-red-500');
                navAuthDesktop.classList.remove('text-slate-500', 'border-slate-200');
                navAuthMobile.innerHTML = '<i class="fas fa-sign-out-alt mr-2 text-xs"></i> Logout';
                navAuthMobile.setAttribute('onclick', 'adminLogout()');
                navAuthMobile.classList.add('text-red-500');
                navAuthMobile.classList.remove('text-slate-500');
                adminTools.classList.remove('hidden');
                restoreBtn.classList.remove('hidden');
                resetBtn.classList.remove('hidden');
            } else {
                navAuthDesktop.innerHTML = '<i class="fas fa-lock mr-2 text-xs"></i>';
                navAuthDesktop.setAttribute('onclick', 'toggleAdminModal()');
                navAuthDesktop.classList.remove('text-red-500', 'border-red-500');
                navAuthDesktop.classList.add('text-slate-500', 'border-slate-200');
                navAuthMobile.innerHTML = '<i class="fas fa-lock mr-2 text-xs"></i> Login Admin';
                navAuthMobile.setAttribute('onclick', 'toggleAdminModal()');
                navAuthMobile.classList.remove('text-red-500');
                navAuthMobile.classList.add('text-slate-500');
                adminTools.classList.add('hidden');
                restoreBtn.classList.add('hidden');
                resetBtn.classList.add('hidden');
            }
            window.renderCatalog(); 
            window.renderFaq();
        }
        window.openFormModal = function(isEdit = false, id = null) {
            const modal = document.getElementById('form-modal');
            const title = document.getElementById('form-title');
            document.getElementById('item-id').value = '';
            document.getElementById('item-title').value = '';
            document.getElementById('item-category').value = 'pernikahan';
            document.getElementById('item-link').value = '';
            document.getElementById('item-tag').value = '';
            document.getElementById('item-image-file').value = '';
            document.getElementById('image-preview').classList.add('hidden');
            document.getElementById('upload-placeholder').classList.remove('hidden');
            window.tempImageBase64 = "";

            if (isEdit && id) {
                title.innerText = "Edit Desain";
                const item = window.catalogData.find(d => d.id === id);
                if (item) {
                    document.getElementById('item-id').value = item.id;
                    document.getElementById('item-title').value = item.title;
                    document.getElementById('item-category').value = item.category;
                    document.getElementById('item-link').value = item.link;
                    document.getElementById('item-tag').value = item.tag;
                    window.tempImageBase64 = item.image;
                    const preview = document.getElementById('image-preview');
                    preview.src = item.image;
                    preview.classList.remove('hidden');
                    document.getElementById('upload-placeholder').classList.add('hidden');
                }
            } else {
                title.innerText = "Tambah Desain Baru";
            }
            modal.classList.remove('hidden');
            document.getElementById('upload-area').focus();
        }
        window.closeFormModal = function() { document.getElementById('form-modal').classList.add('hidden'); }
        window.editItem = function(id) { openFormModal(true, id); }
        window.openFaqModal = function(isEdit = false, id = null) {
            const modal = document.getElementById('faq-modal');
            const title = document.getElementById('faq-modal-title');
            document.getElementById('faq-id').value = '';
            document.getElementById('faq-question').value = '';
            document.getElementById('faq-answer').value = '';
            if (isEdit && id) {
                title.innerText = "Edit FAQ";
                const item = window.faqData.find(f => f.id === id);
                if (item) {
                    document.getElementById('faq-id').value = item.id;
                    document.getElementById('faq-question').value = item.q;
                    document.getElementById('faq-answer').value = item.a;
                }
            } else {
                title.innerText = "Tambah FAQ";
            }
            modal.classList.remove('hidden');
        }
        window.closeFaqModal = function() { document.getElementById('faq-modal').classList.add('hidden'); }
        window.editFaq = function(id) { openFaqModal(true, id); }

        window.previewImage = function(input) {
            if (input.files && input.files[0]) processImage(input.files[0]);
        }
        document.addEventListener('paste', function(event) {
            const formModal = document.getElementById('form-modal');
            if (formModal.classList.contains('hidden')) return;
            const items = (event.clipboardData || event.originalEvent.clipboardData).items;
            for (let index in items) {
                const item = items[index];
                if (item.kind === 'file' && item.type.startsWith('image/')) processImage(item.getAsFile());
            }
        });
        function processImage(file) {
            const reader = new FileReader();
            reader.onload = function(event) {
                const img = new Image();
                img.onload = function() {
                    const canvas = document.createElement('canvas');
                    const MAX_WIDTH = 600; 
                    const scaleSize = MAX_WIDTH / img.width;
                    canvas.width = MAX_WIDTH;
                    canvas.height = img.height * scaleSize;
                    const ctx = canvas.getContext("2d");
                    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
                    const dataUrl = canvas.toDataURL("image/jpeg", 0.7);
                    const preview = document.getElementById('image-preview');
                    preview.src = dataUrl;
                    preview.classList.remove('hidden');
                    document.getElementById('upload-placeholder').classList.add('hidden');
                    window.tempImageBase64 = dataUrl;
                    Swal.fire({ icon: 'success', title: 'Gambar siap!', toast: true, position: 'top-end', showConfirmButton: false, timer: 1000 });
                }
                img.src = event.target.result;
            }
            reader.readAsDataURL(file);
        }

        const audio = document.getElementById('bg-audio');
        let isPlaying = false;
        window.ensureMusicPlaying = function() {
            if (!isPlaying) toggleMusic();
        }
        window.toggleMusic = function() {
            const btnDesktop = document.getElementById('music-btn-desktop');
            const btnMobile = document.getElementById('music-btn-mobile');
            if (isPlaying) {
                audio.pause(); isPlaying = false;
                if(btnDesktop) { btnDesktop.classList.remove('music-rotating'); btnDesktop.classList.remove('text-green-500'); }
                if(btnMobile) { btnMobile.classList.remove('music-rotating'); btnMobile.classList.remove('text-green-500'); }
            } else {
                audio.play(); isPlaying = true;
                if(btnDesktop) { btnDesktop.classList.add('music-rotating'); btnDesktop.classList.add('text-green-500'); }
                if(btnMobile) { btnMobile.classList.add('music-rotating'); btnMobile.classList.add('text-green-500'); }
            }
        }

        let hasWelcomePopupShown = false;
        window.showWelcome = function() {
            if (hasWelcomePopupShown) return;
            const popup = document.getElementById('welcome-popup');
            popup.classList.remove('hidden');
            setTimeout(() => { popup.classList.remove('opacity-0', 'translate-y-10'); }, 50);
            hasWelcomePopupShown = true;
        }
        window.closeWelcome = function() {
            const popup = document.getElementById('welcome-popup');
            popup.classList.add('opacity-0', 'translate-y-10');
            setTimeout(() => { popup.classList.add('hidden'); }, 300);
        }
        window.minimizeWelcome = function() {
            const content = document.getElementById('welcome-content');
            const btn = document.getElementById('welcome-minimized');
            content.style.transform = "scale(0.8)";
            content.style.opacity = "0";
            setTimeout(() => {
                content.classList.add('hidden');
                btn.classList.remove('hidden');
                btn.classList.add('flex');
            }, 200);
        }
        window.maximizeWelcome = function() {
            const content = document.getElementById('welcome-content');
            const btn = document.getElementById('welcome-minimized');
            btn.classList.add('hidden');
            btn.classList.remove('flex');
            content.classList.remove('hidden');
            setTimeout(() => {
                content.style.transform = "scale(1)";
                content.style.opacity = "1";
            }, 50);
        }

        const catalogSection = document.getElementById('catalog');
        if (catalogSection) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) showWelcome();
                });
            }, { threshold: 0.1 }); 
            observer.observe(catalogSection);
        }
        setTimeout(() => { showWelcome(); }, 15000);

        // --- STARS & PARTICLES ---
        const starsContainer = document.getElementById('stars-container');
        if (starsContainer) {
             for (let i = 0; i < 50; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                const size = Math.random() * 3 + 1;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.setProperty('--duration', `${Math.random() * 3 + 2}s`);
                star.style.setProperty('--opacity', Math.random());
                starsContainer.appendChild(star);
            }
        }

        const canvas = document.getElementById('canvas-bg');
        const ctx = canvas.getContext('2d');
        let width, height, particles = [];
        function resize() { width = canvas.width = window.innerWidth; height = canvas.height = window.innerHeight; }
        
        class Particle {
            constructor() { this.reset(); }
            reset() {
                this.x = Math.random() * width; this.y = Math.random() * height;
                this.vx = (Math.random() - 0.5) * 0.2; this.vy = (Math.random() - 0.5) * 0.2;
                this.size = Math.random() * 1.5 + 0.5; this.alpha = Math.random() * 0.5 + 0.2;
                const isDark = document.documentElement.classList.contains('dark');
                const colors_dark = ['34, 211, 238', '56, 189, 248', '14, 165, 233'];
                const colors_light = ['14, 165, 233', '2, 132, 199', '56, 189, 248'];
                const palette = isDark ? colors_dark : colors_light;
                this.color = palette[Math.floor(Math.random() * palette.length)];
            }
            update() {
                this.x += this.vx; this.y += this.vy;
                if (this.x < 0 || this.x > width || this.y < 0 || this.y > height) this.reset();
            }
            draw() {
                ctx.fillStyle = `rgba(${this.color}, ${this.alpha})`;
                ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill();
            }
        }
        
        function initParticles() { particles = []; for(let i=0; i<80; i++) particles.push(new Particle()); }
        function animateParticles() {
            ctx.clearRect(0, 0, width, height);
            particles.forEach((p, i) => {
                p.update(); p.draw();
                for(let j=i+1; j<particles.length; j++) {
                    const dx = p.x - particles[j].x, dy = p.y - particles[j].y;
                    if(Math.sqrt(dx*dx + dy*dy) < 100) {
                        ctx.strokeStyle = `rgba(${p.color}, ${0.1 * (1 - Math.sqrt(dx*dx + dy*dy)/100)})`;
                        ctx.lineWidth = 0.5; ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(particles[j].x, particles[j].y); ctx.stroke();
                    }
                }
            });
            requestAnimationFrame(animateParticles);
        }
        
        window.addEventListener('resize', () => { resize(); initParticles(); });
        initTheme(); resize(); initParticles(); animateParticles();
        window.toggleMobileMenu = function() { document.getElementById('mobile-menu').classList.toggle('hidden'); }

        const statsSection = document.getElementById('stats');
        const counters = document.querySelectorAll('.counter-value');
        let hasAnimatedStats = false;
        function animateCounters() {
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const duration = 2000;
                const increment = target / (duration / 16); 
                let current = 0;
                const updateCounter = () => {
                    current += increment;
                    if (current < target) {
                        counter.innerText = Math.ceil(current);
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.innerText = target;
                    }
                };
                updateCounter();
            });
        }
        if (statsSection) {
            const statsObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !hasAnimatedStats) {
                        animateCounters();
                        hasAnimatedStats = true;
                    }
                });
            }, { threshold: 0.5 });
            statsObserver.observe(statsSection);
        }

        // Jalankan Fetch
        fetchData();

    </script>
</body>
</html>
